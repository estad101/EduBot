# Login System Architecture & Flow Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Railway Platform                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend Service (admin-ui) â”‚  â”‚  Backend Service (API)  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                               â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚  ğŸ“¦ Next.js 14                â”‚  â”‚  ğŸ FastAPI             â”‚ â”‚
â”‚  â”‚  ğŸ“± React 18                  â”‚  â”‚  ğŸ—„ï¸ SQLAlchemy + MySQL â”‚
â”‚  â”‚  ğŸ¨ Tailwind CSS              â”‚  â”‚  ğŸ” JWT Auth            â”‚
â”‚  â”‚                               â”‚  â”‚  ğŸš¨ CORS Enabled       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  ğŸ“Š Monitoring         â”‚
â”‚  â”‚  â”‚ /login                  â”‚  â”‚  â”‚                        â”‚
â”‚  â”‚  â”‚ /dashboard              â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚ /students               â”‚  â”‚  â”‚  â”‚ Routes:          â”‚ â”‚
â”‚  â”‚  â”‚ /payments               â”‚  â”‚  â”‚  â”‚ â€¢ /api/admin/*   â”‚ â”‚
â”‚  â”‚  â”‚ /reports                â”‚  â”‚  â”‚  â”‚ â€¢ /api/students  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ â€¢ /api/payments  â”‚ â”‚
â”‚  â”‚                               â”‚  â”‚  â”‚ â€¢ /api/whatsapp  â”‚ â”‚
â”‚  â”‚ .env.production:              â”‚  â”‚  â”‚ â€¢ /api/homework  â”‚ â”‚
â”‚  â”‚ NEXT_PUBLIC_API_URL=          â”‚  â”‚  â”‚ â€¢ /api/health    â”‚ â”‚
â”‚  â”‚ https://railway.app           â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚                               â”‚  â”‚                        â”‚
â”‚  â”‚ Dockerfile:                   â”‚  â”‚ Dockerfile:            â”‚
â”‚  â”‚ â€¢ Multi-stage build           â”‚  â”‚ â€¢ Python 3.11          â”‚
â”‚  â”‚ â€¢ Build args for env vars     â”‚  â”‚ â€¢ uv for packages      â”‚
â”‚  â”‚ â€¢ Optimized for production    â”‚  â”‚ â€¢ Health check         â”‚
â”‚  â”‚                               â”‚  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              â”‚                                    â”‚
â”‚              â”‚ HTTPS                             â”‚ HTTPS
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ CORS Headers   â”‚            â”‚ Session/Token     â”‚
â”‚  â”‚ Rate Limiting  â”‚            â”‚ CSRF Protection   â”‚
â”‚  â”‚ Security       â”‚            â”‚ IP Binding        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚          Railway MySQL Database                 â”‚
â”‚  â”‚  â€¢ Users (admin account)                        â”‚
â”‚  â”‚  â€¢ Students                                     â”‚
â”‚  â”‚  â€¢ Payments                                     â”‚
â”‚  â”‚  â€¢ Homework                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Login Flow - Detailed

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User visits /login                 â”‚
â”‚  https://railway.app/login          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Browser requests index   â”‚
    â”‚ Next.js renders page     â”‚
    â”‚ Loads .env.production:   â”‚
    â”‚ NEXT_PUBLIC_API_URL=     â”‚
    â”‚ https://railway.app      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Login Page Renders           â”‚
    â”‚ - Username input            â”‚
    â”‚ - Password input            â”‚
    â”‚ - Submit button             â”‚
    â”‚ - API URL configured        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ User enters credentials
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ User clicks Login            â”‚
    â”‚ handleSubmit() called        â”‚
    â”‚ - Prevent default            â”‚
    â”‚ - Clear errors              â”‚
    â”‚ - Set loading state         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ apiClient.login(username, password) â”‚
    â”‚ POST /api/admin/login               â”‚
    â”‚ {                                   â”‚
    â”‚   "username": "admin",              â”‚
    â”‚   "password": "marriage2020!"       â”‚
    â”‚ }                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (HTTPS)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend /api/admin/login                 â”‚
    â”‚                                          â”‚
    â”‚ 1. Check rate limiting                   â”‚
    â”‚ 2. Verify IP address                     â”‚
    â”‚ 3. Validate credentials                  â”‚
    â”‚    AdminAuth.verify_credentials()        â”‚
    â”‚ 4. Check: username == "admin"            â”‚
    â”‚ 5. Check: password == "marriage2020!"    â”‚
    â”‚    (or ADMIN_PASSWORD env var)           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
            â”‚             â”‚
        âœ…  â”‚             â”‚  âŒ
      Valid â”‚             â”‚ Invalid
            â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate:  â”‚  â”‚ Return error:    â”‚
    â”‚ - token    â”‚  â”‚ {                â”‚
    â”‚ - session  â”‚  â”‚  "status":       â”‚
    â”‚ - CSRF     â”‚  â”‚  "error",        â”‚
    â”‚            â”‚  â”‚  "message": "..." â”‚
    â”‚ Create:    â”‚  â”‚ }                â”‚
    â”‚ - session  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚   store    â”‚           â”‚
    â”‚ - IP bind  â”‚           â”‚ HTTPS
    â”‚            â”‚           â”‚
    â”‚ Return:    â”‚           â–¼
    â”‚ {status:   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  success,  â”‚   â”‚ Frontend        â”‚
    â”‚  token,    â”‚   â”‚ setError(msg)   â”‚
    â”‚  session}  â”‚   â”‚ Clear loading   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ Show error msg  â”‚
            â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ HTTPS
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend receives response   â”‚
    â”‚ response.status === "success"â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ localStorage.setItem(              â”‚
    â”‚   "admin_token",                  â”‚
    â”‚   response.token                  â”‚
    â”‚ )                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ useAuthStore().setAuthenticated(   â”‚
    â”‚   true                            â”‚
    â”‚ ) [Zustand store updated]         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Small delay to ensure)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ router.push("/dashboard")         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Dashboard page loads              â”‚
    â”‚ Fetches: GET /api/admin/stats     â”‚
    â”‚ Includes auth token in header     â”‚
    â”‚ Backend validates token           â”‚
    â”‚ Returns dashboard data            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         âœ… LOGIN SUCCESS!
         Dashboard displays
         User fully authenticated
```

## Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Authentication         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ admin username in code     â”‚
â”‚ â€¢ password in env variable   â”‚
â”‚ â€¢ Sessions in memory         â”‚
â”‚ â€¢ CSRF tokens in memory      â”‚
â”‚ â€¢ Failed attempts tracked    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User Data (MySQL)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ students                     â”‚
â”‚ â€¢ id                         â”‚
â”‚ â€¢ name                       â”‚
â”‚ â€¢ phone                      â”‚
â”‚ â€¢ email                      â”‚
â”‚ â€¢ status                     â”‚
â”‚                              â”‚
â”‚ payments                     â”‚
â”‚ â€¢ id                         â”‚
â”‚ â€¢ student_id                 â”‚
â”‚ â€¢ amount                     â”‚
â”‚ â€¢ reference                  â”‚
â”‚ â€¢ status                     â”‚
â”‚                              â”‚
â”‚ homework                     â”‚
â”‚ â€¢ id                         â”‚
â”‚ â€¢ student_id                 â”‚
â”‚ â€¢ file_path                  â”‚
â”‚ â€¢ submitted_at               â”‚
â”‚ â€¢ status                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Layers

```
Browser              Railway Edge         Backend          Database
â”œâ”€ HTTPS             â”œâ”€ HTTPS only        â”œâ”€ Validation    â”œâ”€ Encrypted
â”œâ”€ Secure cookies    â”œâ”€ DDoS protection   â”œâ”€ Rate limit    â”‚  passwords
â”œâ”€ CSP headers       â”œâ”€ WAF               â”œâ”€ CSRF tokens   â”œâ”€ SQL
â”œâ”€ HSTS              â””â”€ Certificate       â”œâ”€ IP binding    â”‚  injection
â””â”€ localStorage          pinning          â”œâ”€ Session       â”‚  prevention
                                          â”‚  timeout       â””â”€ Access
                                          â”œâ”€ Auth headers  â”‚  control
                                          â””â”€ Logging
```

## Environment Variable Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Railway Environment           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚
â”‚  NEXT_PUBLIC_API_URL           â”‚
â”‚  â””â”€> Dockerfile ARG            â”‚
â”‚      â””â”€> npm run build         â”‚
â”‚          â””â”€> .next/*           â”‚
â”‚              â””â”€> Runtime       â”‚
â”‚                  (bundled)     â”‚
â”‚                                â”‚
â”‚  Backend Variables             â”‚
â”‚  â””â”€> settings.py              â”‚
â”‚      â””â”€> os.getenv()          â”‚
â”‚          â””â”€> Runtime          â”‚
â”‚              (loaded)          â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Request/Response Format

### Login Request
```json
{
  "username": "admin",
  "password": "marriage2020!"
}
```

### Success Response
```json
{
  "status": "success",
  "message": "Login successful",
  "token": "dJ_Dq7kZpQ_FH8mR2xL9vN4uY5bT3cWs6eJ1pK0aB9iM",
  "session_id": "0fzDqPkYqF_jV4hJ8xM3tK9uY6bS2rW5eL0nB7cG1jD",
  "csrf_token": "xK4lZ9mN2qR8vT1uW5jP0sX3aB6cD9eF2gH7iJ4kL",
  "user": {
    "username": "admin",
    "role": "admin"
  }
}
```

### Error Response
```json
{
  "status": "error",
  "message": "Invalid username or password",
  "token": null
}
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Railway Project                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Postgres/MySQL   â”‚    â”‚ Container Registry       â”‚ â”‚
â”‚  â”‚ (Database)       â”‚    â”‚ (Docker images)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                                            â”‚
â”‚           â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Services                                           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚  Frontend (admin-ui)          Backend (main.py)   â”‚ â”‚
â”‚  â”‚  â€¢ Node 18                    â€¢ Python 3.11       â”‚ â”‚
â”‚  â”‚  â€¢ Next.js                    â€¢ FastAPI           â”‚ â”‚
â”‚  â”‚  â€¢ 1 replica                  â€¢ 1 replica         â”‚ â”‚
â”‚  â”‚  â€¢ 512MB RAM                  â€¢ 1GB RAM           â”‚ â”‚
â”‚  â”‚  â€¢ Auto-restart on fail       â€¢ Auto-restart      â”‚ â”‚
â”‚  â”‚                               â€¢ Health check      â”‚ â”‚
â”‚  â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  Domain: https://proactive-insight-production-6462  â”‚
â”‚          .up.railway.app                            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Monitoring & Logging

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application Logs                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Frontend Logs:                     â”‚
â”‚  â€¢ "API_URL configured as: ..."     â”‚
â”‚  â€¢ Network requests (F12 DevTools)  â”‚
â”‚  â€¢ Console errors/warnings          â”‚
â”‚                                     â”‚
â”‚  Backend Logs:                      â”‚
â”‚  â€¢ "Admin login successful"         â”‚
â”‚  â€¢ "Failed login attempt"           â”‚
â”‚  â€¢ "Database connection check"      â”‚
â”‚  â€¢ Request/response timing          â”‚
â”‚  â€¢ Error stack traces               â”‚
â”‚                                     â”‚
â”‚  Metrics:                           â”‚
â”‚  â€¢ Response times                   â”‚
â”‚  â€¢ Error rates                      â”‚
â”‚  â€¢ Database connection pool         â”‚
â”‚  â€¢ Memory usage                     â”‚
â”‚  â€¢ CPU usage                        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Troubleshooting Decision Tree

```
Is login page loading?
â”‚
â”œâ”€ YES: Is form visible?
â”‚       â”‚
â”‚       â”œâ”€ YES: Can you enter credentials?
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€ YES: Click login â†’ What happens?
â”‚       â”‚       â”‚       â”‚
â”‚       â”‚       â”‚       â”œâ”€ Error message â†’ Login failing
â”‚       â”‚       â”‚       â”‚                  Check credentials
â”‚       â”‚       â”‚       â”‚
â”‚       â”‚       â”‚       â”œâ”€ Network error â†’ API unreachable
â”‚       â”‚       â”‚       â”‚                  Check API URL
â”‚       â”‚       â”‚       â”‚
â”‚       â”‚       â”‚       â”œâ”€ Redirects to dashboard â†’ SUCCESS! âœ…
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€ NO: Form not rendering
â”‚       â”‚           Check browser console
â”‚       â”‚
â”‚       â””â”€ NO: Page loads but no form
â”‚           Check for JavaScript errors
â”‚
â””â”€ NO: 404 or 500 error?
        Check backend logs
        Verify database connection
```

---

**Architecture Version:** 1.0.0  
**Last Updated:** 2024  
**Status:** Production Ready âœ…
